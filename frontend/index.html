<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biblioteca de Conocimiento Personal - Ismael López-Silvero Guimarais</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/src/styles.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Biblioteca de Conocimiento Personal</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#" id="nav-home">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="nav-explore">Explorar</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="nav-generate">Generar</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="nav-api">API para IAs</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <!-- Sección de Inicio -->
        <div id="home-section" class="section active">
            <div class="row">
                <div class="col-md-8">
                    <div class="card mb-4">
                        <div class="card-body">
                            <h2 class="card-title">Biblioteca de Conocimiento Personal</h2>
                            <p class="card-text">
                                Bienvenido a tu biblioteca personal de conocimiento, un repositorio centralizado de todos tus comentarios, 
                                debates y reflexiones publicados en redes sociales y otros medios. Esta herramienta te permite:
                            </p>
                            <ul>
                                <li>Explorar tu contenido por temas, fechas y plataformas</li>
                                <li>Generar nuevo contenido basado en tus ideas previas</li>
                                <li>Conectar con diferentes IAs para análisis profundos</li>
                            </ul>
                        </div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-body">
                            <h3 class="card-title">Estadísticas de la Biblioteca</h3>
                            <div id="stats-container" class="row text-center">
                                <div class="col-md-3 mb-3">
                                    <div class="stat-card">
                                        <h4 id="total-contenidos">...</h4>
                                        <p>Contenidos</p>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <div class="stat-card">
                                        <h4 id="primera-fecha">...</h4>
                                        <p>Primer registro</p>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <div class="stat-card">
                                        <h4 id="ultima-fecha">...</h4>
                                        <p>Último registro</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="card mb-4">
                        <div class="card-body">
                            <h3 class="card-title">Búsqueda Rápida</h3>
                            <div class="input-group mb-3">
                                <input type="text" class="form-control" id="quick-search" placeholder="Buscar en tu contenido...">
                                <button class="btn btn-primary" type="button" id="quick-search-btn">
                                    <i class="bi bi-search"></i>
                                </button>
                            </div>
                            <div class="d-grid gap-2">
                                <button class="btn btn-outline-primary" type="button" id="advanced-search-btn">Búsqueda Avanzada</button>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-body">
                            <h3 class="card-title">Distribución de Contenido</h3>
                            <canvas id="platform-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sección de Exploración -->
        <div id="explore-section" class="section">
            <h2>Explorar Contenido</h2>
            <div class="search-filters">
                <div class="row g-3">
                    <div class="col-md-4">
                        <label for="tema-filter" class="form-label">Tema</label>
                        <select class="form-select" id="tema-filter">
                            <option value="">Todos los temas</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label for="plataforma-filter" class="form-label">Plataforma</label>
                        <select class="form-select" id="plataforma-filter">
                            <option value="">Todas las plataformas</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label for="texto-search" class="form-label">Texto</label>
                        <input type="text" class="form-control" id="texto-search" placeholder="Buscar en el contenido...">
                    </div>
                    <div class="col-md-4">
                        <label for="fecha-inicio" class="form-label">Fecha Inicio</label>
                        <input type="date" class="form-control" id="fecha-inicio">
                    </div>
                    <div class="col-md-4">
                        <label for="fecha-fin" class="form-label">Fecha Fin</label>
                        <input type="date" class="form-control" id="fecha-fin">
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">&nbsp;</label>
                        <button class="btn btn-primary w-100" id="apply-filters">Aplicar Filtros</button>
                    </div>
                </div>
            </div>
            <div id="results-container">
                <!-- Resultados de búsqueda -->
            </div>
            <div id="pagination">
                <!-- Paginación -->
            </div>
        </div>

        <!-- Sección de Generación -->
        <div id="generate-section" class="section">
            <h2>Generar Contenido</h2>
            <div class="generation-form">
                <div class="row g-3">
                    <div class="col-md-4">
                        <label for="generar-tema" class="form-label">Tema</label>
                        <select class="form-select" id="generar-tema">
                            <option value="">Seleccionar tema...</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label for="generar-tipo" class="form-label">Tipo de Contenido</label>
                        <select class="form-select" id="generar-tipo">
                            <option value="post">Post</option>
                            <option value="articulo">Artículo</option>
                            <option value="guion">Guion</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label for="generar-longitud" class="form-label">Longitud</label>
                        <select class="form-select" id="generar-longitud">
                            <option value="corto">Corto</option>
                            <option value="medio" selected>Medio</option>
                            <option value="largo">Largo</option>
                        </select>
                    </div>
                    <div class="col-12">
                        <button class="btn btn-primary" id="generar-contenido">Generar Material</button>
                    </div>
                </div>
            </div>
            <div id="generated-content-container">
                <!-- Contenido generado -->
            </div>
        </div>

        <!-- Sección de API para IAs -->
        <div id="api-section" class="section">
            <div class="row">
                <div class="col-md-12">
                    <div class="card mb-4">
                        <div class="card-body">
                            <h2 class="card-title">API para Inteligencias Artificiales</h2>
                            <p>
                                Esta biblioteca de conocimiento está diseñada para ser accesible por diferentes modelos de IA 
                                (como GPT, Gemini, Claude) sin necesidad de integraciones complejas. A continuación se detallan 
                                los endpoints disponibles y ejemplos de uso.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="card mb-4">
                        <div class="card-body">
                            <h3 class="card-title">Endpoints Disponibles</h3>
                            <div class="accordion" id="accordionEndpoints">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInfo" aria-expanded="true" aria-controls="collapseInfo">
                                            /api/info
                                        </button>
                                    </h2>
                                    <div id="collapseInfo" class="accordion-collapse collapse show" data-bs-parent="#accordionEndpoints">
                                        <div class="accordion-body">
                                            <p><strong>Método:</strong> GET</p>
                                            <p><strong>Descripción:</strong> Información general sobre la biblioteca</p>
                                            <p><strong>Parámetros:</strong> Ninguno</p>
                                            <p><strong>Ejemplo:</strong> <code id="api-url-base"></code>/api/info</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTemas" aria-expanded="false" aria-controls="collapseTemas">
                                            /api/temas
                                        </button>
                                    </h2>
                                    <div id="collapseTemas" class="accordion-collapse collapse" data-bs-parent="#accordionEndpoints">
                                        <div class="accordion-body">
                                            <p><strong>Método:</strong> GET</p>
                                            <p><strong>Descripción:</strong> Jerarquía completa de temas</p>
                                            <p><strong>Parámetros:</strong> Ninguno</p>
                                            <p><strong>Ejemplo:</strong> <code id="api-url-temas"></code>/api/temas</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseContenido" aria-expanded="false" aria-controls="collapseContenido">
                                            /api/contenido
                                        </button>
                                    </h2>
                                    <div id="collapseContenido" class="accordion-collapse collapse" data-bs-parent="#accordionEndpoints">
                                        <div class="accordion-body">
                                            <p><strong>Método:</strong> GET</p>
                                            <p><strong>Descripción:</strong> Búsqueda de contenido con múltiples filtros</p>
                                            <p><strong>Parámetros:</strong></p>
                                            <ul>
                                                <li><code>tema</code>: ID o nombre del tema</li>
                                                <li><code>texto</code>: Texto a buscar</li>
                                                <li><code>plataforma</code>: Nombre de la plataforma</li>
                                                <li><code>fecha_inicio</code>: Fecha de inicio (YYYY-MM-DD)</li>
                                                <li><code>fecha_fin</code>: Fecha de fin (YYYY-MM-DD)</li>
                                                <li><code>limite</code>: Número máximo de resultados (default: 100)</li>
                                            </ul>
                                            <p><strong>Ejemplo:</strong> <code id="api-url-contenido"></code>/api/contenido?tema=Cristianismo&limite=10</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseGenerar" aria-expanded="false" aria-controls="collapseGenerar">
                                            /api/generar
                                        </button>
                                    </h2>
                                    <div id="collapseGenerar" class="accordion-collapse collapse" data-bs-parent="#accordionEndpoints">
                                        <div class="accordion-body">
                                            <p><strong>Método:</strong> GET</p>
                                            <p><strong>Descripción:</strong> Material para generar nuevo contenido</p>
                                            <p><strong>Parámetros:</strong></p>
                                            <ul>
                                                <li><code>tema</code>: ID o nombre del tema (requerido)</li>
                                                <li><code>tipo</code>: Tipo de contenido (post, articulo, guion)</li>
                                                <li><code>longitud</code>: Longitud deseada (corto, medio, largo)</li>
                                            </ul>
                                            <p><strong>Ejemplo:</strong> <code id="api-url-generar"></code>/api/generar?tema=Religión&tipo=articulo&longitud=largo</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="card mb-4">
                        <div class="card-body">
                            <h3 class="card-title">Guía para IAs</h3>
                            <p>
                                Esta biblioteca está diseñada para permitir diferentes tipos de análisis por parte de modelos de IA.
                                A continuación se presentan algunos ejemplos de cómo las IAs pueden utilizar esta API:
                            </p>
                            <div class="mb-3">
                                <h5>1. Extracción para Creación de Contenido</h5>
                                <p>
                                    Para generar borradores para posts, artículos o guiones y extraer citas y fragmentos relevantes,
                                    utiliza el endpoint <code>/api/generar</code>.
                                </p>
                            </div>
                            <div class="mb-3">
                                <h5>2. Construcción de Perfiles</h5>
                                <p>
                                    Para caracterizar el estilo de escritura y comunicación e identificar temas predilectos y enfoques característicos,
                                    combina los endpoints <code>/api/contenido</code> y <code>/api/temas</code>.
                                </p>
                            </div>
                            <div class="mb-3">
                                <h5>3. Acceso Directo a Datos</h5>
                                <p>
                                    Para acceder directamente a todos los datos en formato NDJSON, utiliza el endpoint <code>/api/ndjson/contenido</code>.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-light py-3 mt-5">
        <div class="container text-center">
            <p>Biblioteca de Conocimiento Personal - Ismael López-Silvero Guimarais</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="module" src="/src/app.js"></script>
</body>
</html>
